<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Example: Extracting Substrings | Upscaling</title>
<meta name="description" content="course course-materials geography remote-sensing marburg-open-educational-resource  physical-geography environmental-science nature-conservation r ">


  <meta name="author" content="Dirk Zeuss">


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Upscaling">
<meta property="og:title" content="Example: Extracting Substrings">
<meta property="og:url" content="http://localhost:4000/moer-bsc-project-seminar-upscaling/units/staging/unit01-07_substring.html">


  <meta property="og:description" content="course course-materials geography remote-sensing marburg-open-educational-resource  physical-geography environmental-science nature-conservation r ">





  <meta name="twitter:site" content="@EnvIn_UMR">
  <meta name="twitter:title" content="Example: Extracting Substrings">
  <meta name="twitter:description" content="course course-materials geography remote-sensing marburg-open-educational-resource  physical-geography environmental-science nature-conservation r ">
  <meta name="twitter:url" content="http://localhost:4000/moer-bsc-project-seminar-upscaling/units/staging/unit01-07_substring.html">

  
    <meta name="twitter:card" content="summary">
    
  

  








<link rel="canonical" href="http://localhost:4000/moer-bsc-project-seminar-upscaling/units/staging/unit01-07_substring.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Lab of Environmental Informatics",
      "url": "http://localhost:4000/moer-bsc-project-seminar-upscaling/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/moer-bsc-project-seminar-upscaling/feed.xml" type="application/atom+xml" rel="alternate" title="Upscaling Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/moer-bsc-project-seminar-upscaling/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
    	<a class="site-title" href="http://localhost:4000/moer-bsc-project-seminar-upscaling/" style="padding:0px"><img src="http://localhost:4000/moer-bsc-project-seminar-upscaling/assets/images/logos/logo_umr4.png" style="padding-right:15px">Upscaling</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/moer-bsc-project-seminar-upscaling/units.html" >Units</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/moer-bsc-project-seminar-upscaling/unit00/unit00-03_faq.html" >FAQ</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://geomoer.github.io/moer-info-page/" >Courses</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.uni-marburg.de/en/fb19/disciplines/physisch/environmentalinformatics" >Lab Home</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://geomoer.github.io/moer-base-r/" >Base R</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/moer-bsc-project-seminar-upscaling/about.html" >About</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <p>Extracting or replacing parts of a substring is quite straight forward but
requires some more typing than e.g. in Python. The main function you will use
is the <code class="highlighter-rouge">substring</code> function.</p>

<h2 id="the-substr-function">The <code class="highlighter-rouge">substr</code> function</h2>

<p>Let us extract parts of a given string starting with the second and ending with the
seventh character.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Hello World"</span><span class="p">)</span><span class="w">
</span><span class="n">substring</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "ello W"
</code></pre></div></div>
<p>The second argument in the substring function defines the starting position, the third the
ending position of the string extraction.</p>

<p>If you apply the function to a vector of characters, it is applied to each element of the vector.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Hello Earth"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Hi Pluto"</span><span class="p">)</span><span class="w">
</span><span class="n">substring</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "ello E" "i Plut"
</code></pre></div></div>

<p>A more genreal task might be to extract the second part of a character string
which is of type  “<em>some_string</em> <em>some_other_string</em>” i.e. with the two strings
separated by blank or any other specific character. In the example above, this
would imply the following:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">substring</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">11</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "Earth"
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">substring</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "Pluto"
</code></pre></div></div>

<h2 id="the-regexpr-function">The <code class="highlighter-rouge">regexpr</code> function</h2>

<p>It is also possible and often more convenient to use the powerful <code class="highlighter-rouge">regexpr</code> function which looks for a pattern
in a character element and returns the index of this.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">regexpr</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">])</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 6
## attr(,"match.length")
## [1] 1
## attr(,"index.type")
## [1] "chars"
## attr(,"useBytes")
## [1] TRUE
</code></pre></div></div>
<p>The first line gives the position within the character string. The other two lines
are just attributes with additional information. Of course, this can also be
applied to an entire vector:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">regexpr</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 6 3
## attr(,"match.length")
## [1] 1 1
## attr(,"index.type")
## [1] "chars"
## attr(,"useBytes")
## [1] TRUE
</code></pre></div></div>
<p>If you compare the result with the vector elements, than 6 and 3 gives the position
of the blank within each of the two strings. Since we acutally do not want the
second word to include a leading blank but only the second one, we have to increase
the starting position by one.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">regexpr</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 7 4
## attr(,"match.length")
## [1] 1 1
## attr(,"index.type")
## [1] "chars"
## attr(,"useBytes")
## [1] TRUE
</code></pre></div></div>
<p>Hence, the problem of the starting position is solved. As ending position, we use the
result of the <code class="highlighter-rouge">nchar</code> function which returns the number of characters in a string.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nchar</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 11  8
</code></pre></div></div>
<p>In summary, this is one possible solution:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">substring</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">regexpr</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="m">+1</span><span class="p">,</span><span class="w"> </span><span class="n">nchar</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "Earth" "Pluto"
</code></pre></div></div>
<p>For more information on the <code class="highlighter-rouge">regexpr</code> and similar functions, have a look at
the help page (i.e. <code class="highlighter-rouge">?regexpr</code>).</p>

<p>For an overview of regular expressions which e.g. match any digit or 
alphabetic character see <code class="highlighter-rouge">?regex</code>.</p>

<p>To get an idea of the full power of regular expressions for text mining and manipulation, see <a href="https://www.regular-expressions.info" target="_blank">www.regular-expressions.info</a>.</p>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
    
      <li><a href="https://twitter.com/EnvIn_UMR"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="https://github.com/GeoMOER"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="http://localhost:4000/moer-bsc-project-seminar-upscaling/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright"> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a> &copy; 2022 Lab of Environmental Informatics
. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a>, <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a> &amp; <a href="https://www.uni-marburg.de/fb19" rel="nofollow">Geography@Marburg University</a>.</div>



      </footer>
    </div>

    
  <script src="/moer-bsc-project-seminar-upscaling/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/moer-bsc-project-seminar-upscaling/assets/js/lunr/lunr.min.js"></script>
<script src="/moer-bsc-project-seminar-upscaling/assets/js/lunr/lunr-store.js"></script>
<script src="/moer-bsc-project-seminar-upscaling/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
